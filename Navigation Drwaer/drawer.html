<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Navigation Drawer</title>
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
        }

        #main-container {
            width: 100%;
            height: 100%;
            position: relative;
        }

        #nav-drawer {
            width: 300px;
            height: 100%;
            position: absolute;
            left: -290px;
        }
        #nav-list {
            background: lightblue;
            width: 290px;
            height: 100%;
        }
        #nav-white {
            float: right;
            background: none;
            width: 10px;
            height: 100%;
        }
    </style>
</head>

<body>
    <div id="main-container">
        <div id="nav-drawer">
            <div id="nav-white"></div>
            <div id="nav-list"></div>
        </div>
    </div>
    <script>
        var yuko = {
            // "value": "ox" : start touch point x,"oy" : start touch point y,"ofx" : offset touch point x,"ofy" : offset touch point y,"ex" : end touch point x,"ey" : end touch point y, "dtx" : temp touch distance x, "dty" : temp touch distance x, "dx" : total touch distance x, "dy" : total touch distance y
            "value": { "ox": 0, "oy": 0, "ofx": 0, "ofy": 0, "ex": 0, "ey": 0, "dtx": 0, "dty": 0, "dx": 0, "dy": 0, "el": 0 },
            "drag": function (dom, duration) {
                var drawer = dom;
                var drawerX = drawer.offsetLeft;
                var drawerY = drawer.offsetTop;
                var drawerW = drawer.offsetWidth;
                var relative_distance = 0;
                // Touch listener.
                var touchStartListener, touchMoveListener, touchEndListener;
                touchStartListener = function (event) {
                    // Set start point's coordinate.
                    event.preventDefault();
                    yuko.value.ox = event.changedTouches[0].pageX;
                    yuko.value.oy = event.changedTouches[0].pageY;
                    relative_distance = yuko.value.ox - drawerX;
                }
                touchMoveListener = function (event) {
                    event.preventDefault();
                    yuko.value.ofx = event.changedTouches[0].pageX;
                    yuko.value.ofy = event.changedTouches[0].pageY;
                    yuko.value.dtx = yuko.value.ofx - yuko.value.ox;
                    yuko.value.dty = yuko.value.ofy - yuko.value.oy;
                    // Between the allowing slide area.
                    if (yuko.value.dtx < drawerW-10 && drawer.offsetLeft >= drawerX) {
                        // If the drawer style => left is 0.
                        if (yuko.value.el >= -(drawerW-10) / 2) {
                            // Slide from right to left
                            yuko.value.dtx < 0 ? changeLeft(drawer, yuko.value.dtx) : drawer.offsetLeft == 0 ? undefined : changeLeft(drawer, drawerX + yuko.value.dtx);
                        } else {
                            changeLeft(drawer, drawerX + yuko.value.dtx);
                        }
                    }
                }
                touchEndListener = function (event) {
                    event.preventDefault();
                    yuko.value.ex = event.changedTouches[0].pageX;
                    yuko.value.ey = event.changedTouches[0].pageY;
                    yuko.value.dx = yuko.value.ex - yuko.value.ox;
                    yuko.value.dy = yuko.value.ey - yuko.value.oy;
                    yuko.value.dx < (drawerW-10) / 2 ? drawer.offsetLeft < -(drawerW-10) / 2 ? yuko.timer(drawer, drawer.offsetLeft, drawerX, duration) : yuko.timer(drawer, drawer.offsetLeft, 0, duration) : yuko.timer(drawer, drawer.offsetLeft, 0, duration);
                    yuko.value.el = drawer.offsetLeft;
                }
                drawer.addEventListener("touchstart", touchStartListener);
                drawer.addEventListener("touchmove", touchMoveListener);
                drawer.addEventListener("touchend", touchEndListener);
                
                var changeLeft = function (dom, x) {
                    dom.style.left = x + "px";
                }
            },
            "timer": function (dom, start, stop, duration) {
                var distance = start - stop;
                var intID = setInterval(
                    function () {
                        if (start == stop) {
                            clearInterval(intID);
                            return;
                        }
                        if (start > stop) {
                            start--;
                            dom.style.left = start + "px";
                        } else {
                            start++;
                            dom.style.left = start + "px";
                        }
                    }
                    , duration / distance
                );

            }
        }
        yuko.drag(document.getElementById("nav-drawer"), 100);
    </script>
</body>

</html>